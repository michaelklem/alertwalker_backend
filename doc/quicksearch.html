<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"modules.list.html":{"id":"modules.list.html","title":"Modules","body":" Alert Walker Modules data/location/notification/oauth/users/ Modules × Search results Close Documentation generated by JSDoc 3.6.6 on 2021-05-05T18:01:48-05:00 using the DocStrap template. "},"index.html":{"id":"index.html","title":"Index","body":" Alert Walker Modules data/location/notification/oauth/users/ Structure Modules are controllers for specific routes. Each controller has routes related to the functionality the controller provides. Module: \"oauth\" with route \"login\" would be called like so: apiURL/oauth/login Collections authorizations The authorization types a user can have assigned to them. A user can only have one authorization type. This is useful if you have different roles in your application but Alert Walker has only one role \"customer\". components Not currently used in the app. configurations Editable configuration options that will change how the app functions. For example the S3 bucket where files are uploaded to. The AWS Pinpoint app ID for triggering push notifications. eventsubscriptions This is how the app knows for what events to trigger a notification for. This uses the collection \"subscribableevents\". When a user signs up they will get a 1 record created in this collection for each record that exists in \"subscribableevents\". When an API call is made to the /data route is will either be creating, querying, updating, or deleting (the action). If there is a subscribableevent for this action it will lookup all event eventsubscriptions for that event and trigger the proper notification. fields Not currently used in the app. files This is where any files that are uploaded are stored. geofenceareas Any alerts created by users are stored in this collection. logs The system will log various events or errors that occur using the app/model/log class. For example when a password is reset it is logged here that the event occurred for auditing purposes. models All of the collections are stored in the database as \"models\". Models have schema fields which define the individual fields for that collection/model. Internally used by the backend, I don't recommend playing around with this collection. notifications This is a notification sent from the application. It contains the data of the notification for example the title and body. oauthtokens This is a third party OAuth token from Google. It is returned after a user signs in with Google. pages Some pages in the app such as the home screen and authentication screens utilize this collection. This allows for dynamically adding fields to screens such as the registration screen. pushnotifications This is the log of the push notification that was sent. It will contain the parameters passed into the API that sends the push token for easier debugging. pushtokens This is a token from Google or Apple that allows us to send a push notification to a user's specific device. schemafields These are the fields that a model contains. Internally used by the backend, I don't recommend playing around with this collection. subscribableevents An event that a user can be subscribed to so that they receive notifications for specific events in the app. thirdpartyaccounts A third party account such as Google. This is how we know what user is associated with what third party account. tokens This is the Javascript Web Token that the mobile app uses for communicating with the backend. users Users of the application. verifications When a user initiates a password reset a verification request is created here. × Search results Close Documentation generated by JSDoc 3.6.6 on 2021-05-05T18:01:48-05:00 using the DocStrap template. "},"module-data_.html":{"id":"module-data_.html","title":"Module: data/","body":" Alert Walker Modules data/location/notification/oauth/users/ Module: data/ API routes providing data related tools such as retrieval, updating, and removing. Members &lt;route&gt; Create Route: MethodPath POST /create Create a new Model document Authentication Requires a valid x-access-token Body Parameters: Name Type Description model String Model record belongs to params JSON Params we can pass directly to Mongo that map to Core Model schema for model Header Parameters: Name Type Description x-access-token JWT Token to decrypt x-request-source String (web|mobile) x-device-id GUID Unique ID of device calling API x-device-service-name String (ios|android|chrome|safari) &lt;route&gt; delete Route: MethodPath POST /delete Delete a document for specified model Authentication Requires a valid x-access-token Body Parameters: Name Type Description model String Model record belongs to id Array. Contains array or string of object IDs to delete Header Parameters: Name Type Description x-access-token JWT Token to decrypt x-request-source String (web|mobile) x-device-id GUID Unique ID of device calling API x-device-service-name String (ios|android|chrome|safari) &lt;route&gt; query Route: MethodPath POST /query Query a document(s) for specified model Authentication Requires a valid x-access-token Body Parameters: Name Type Description params JSON Query parameters to filter documents (MongoDB) name String Model to query on Header Parameters: Name Type Description x-access-token JWT Token to decrypt x-request-source String (web|mobile) x-device-id GUID Unique ID of device calling API x-device-service-name String (ios|android|chrome|safari) &lt;route&gt; update Route: MethodPath POST /update Update a document for specified model Authentication Requires a valid x-access-token Body Parameters: Name Type Description \"headers[x-access-token]\" JWT Token to decrypt fields Array. Parameters to update in document (MongoDB) model String Model record belongs to id String Object ID of the record to update Header Parameters: Name Type Description x-access-token JWT Token to decrypt x-request-source String (web|mobile) x-device-id GUID Unique ID of device calling API x-device-service-name String (ios|android|chrome|safari) × Search results Close Documentation generated by JSDoc 3.6.6 on 2021-05-05T18:01:48-05:00 using the DocStrap template. "},"module-location_.html":{"id":"module-location_.html","title":"Module: location/","body":" Alert Walker Modules data/location/notification/oauth/users/ Module: location/ API routes providing location related functionality Members &lt;route&gt; Geofence Route: MethodPath POST /geofence Check for geofence locations near a user's location Authentication Requires a valid x-access-token Body Parameters: Name Type Description longitude String The longitude latitude String The latitude accuracy String The accuracy (optional) Header Parameters: Name Type Description x-access-token JWT Token to decrypt x-request-source String (web|mobile) x-device-id GUID Unique ID of device calling API x-device-service-name String (ios|android|chrome|safari) × Search results Close Documentation generated by JSDoc 3.6.6 on 2021-05-05T18:01:48-05:00 using the DocStrap template. "},"module-notification_.html":{"id":"module-notification_.html","title":"Module: notification/","body":" Alert Walker Modules data/location/notification/oauth/users/ Module: notification/ API routes providing system-notification related functionality Members &lt;route&gt; Initialize Route: MethodPath POST /init Retrieve notifications for a user Authentication Requires a valid x-access-token Body Parameters: Name Type Description id String ID of call to reject Header Parameters: Name Type Description x-access-token JWT Token to decrypt x-request-source String (web|mobile) x-device-id GUID Unique ID of device calling API x-device-service-name String (ios|android|chrome|safari) &lt;route&gt; Mark Read Route: MethodPath POST /mark-read Mark notifications as read Authentication Requires a valid x-access-token Body Parameters: Name Type Description ids Array. IDs of notifications to update Header Parameters: Name Type Description x-access-token JWT Token to decrypt x-request-source String (web|mobile) x-device-id GUID Unique ID of device calling API x-device-service-name String (ios|android|chrome|safari) &lt;route&gt; Read Route: MethodPath POST /read Read a single notification Authentication Requires a valid x-access-token Body Parameters: Name Type Description id String ID of notification to read Header Parameters: Name Type Description x-access-token JWT Token to decrypt x-request-source String (web|mobile) x-device-id GUID Unique ID of device calling API x-device-service-name String (ios|android|chrome|safari) × Search results Close Documentation generated by JSDoc 3.6.6 on 2021-05-05T18:01:48-05:00 using the DocStrap template. "},"module-oauth_.html":{"id":"module-oauth_.html","title":"Module: oauth/","body":" Alert Walker Modules data/location/notification/oauth/users/ Module: oauth/ API routes providing oauth related functionality such as third party login and handling oauth requests from third party services Members &lt;route&gt; Authentication URL Route: MethodPath POST /auth-url Retrieve URL to authenticate via OAuth2 with external provider Authentication Requires a valid x-access-token Body Parameters: Name Type Description source String Google|Microsoft|Apple Header Parameters: Name Type Description x-access-token JWT Token to decrypt x-request-source String (web|mobile) x-device-id GUID Unique ID of device calling API x-device-service-name String (ios|android|chrome|safari) &lt;route&gt; Login Route: MethodPath POST /login Log a user into the system using a third party account. Will also create an account in the system if one doesn't exist Body Parameters: Name Type Description username String Username email String email address password String unhashed password phone String Phone number Header Parameters: Name Type Description x-request-source String (web|mobile) x-device-id GUID Unique ID of device calling API x-device-service-name String (ios|android|chrome|safari) &lt;route&gt; Remove Token Route: MethodPath POST /remove-token Remove oauth token Authentication Requires a valid x-access-token Body Parameters: Name Type Description source String Where the token is from (google|microsoft|instagram) Header Parameters: Name Type Description x-access-token JWT Token to decrypt x-request-source String (web|mobile) x-device-id GUID Unique ID of device calling API x-device-service-name String (ios|android|chrome|safari) &lt;route&gt; Save Token Route: MethodPath POST /save-token Save oauth token Authentication Requires a valid x-access-token Body Parameters: Name Type Description accessToken String The oauth token externalId String The unique ID for this user in third party system source String Where this token is from Header Parameters: Name Type Description x-access-token JWT Token to decrypt x-request-source String (web|mobile) x-device-id GUID Unique ID of device calling API x-device-service-name String (ios|android|chrome|safari) &lt;route&gt; Third Party Account Route: MethodPath POST /third-party-account Retrieve third party account for user Authentication Requires a valid x-access-token Body Parameters: Name Type Description source String Where this token is from Header Parameters: Name Type Description x-access-token JWT Token to decrypt x-request-source String (web|mobile) x-device-id GUID Unique ID of device calling API x-device-service-name String (ios|android|chrome|safari) × Search results Close Documentation generated by JSDoc 3.6.6 on 2021-05-05T18:01:48-05:00 using the DocStrap template. "},"module-users_.html":{"id":"module-users_.html","title":"Module: users/","body":" Alert Walker Modules data/location/notification/oauth/users/ Module: users/ API routes providing user related functionality such as authentication and password reset Members &lt;route&gt; Me Route: MethodPath POST /me Retrieve settings for a user Authentication Requires a valid x-access-token Header Parameters: Name Type Description x-access-token JWT Token to decrypt x-request-source String (web|mobile) x-device-id GUID Unique ID of device calling API x-device-service-name String (ios|android|chrome|safari) &lt;route&gt; Update Route: MethodPath POST /update Update user settings Authentication Requires a valid x-access-token Body Parameters: Name Type Description Must Object match what is defined to be allowed for the settings page Header Parameters: Name Type Description x-access-token JWT Token to decrypt x-request-source String (web|mobile) x-device-id GUID Unique ID of device calling API x-device-service-name String (ios|android|chrome|safari) × Search results Close Documentation generated by JSDoc 3.6.6 on 2021-05-05T18:01:48-05:00 using the DocStrap template. "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
